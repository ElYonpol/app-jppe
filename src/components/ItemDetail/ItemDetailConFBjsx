import React, { useEffect, useState } from "react";
import { db } from "../../firebase/config";
import {
	doc,
	getDoc,
	collection,
	getDocs,
} from "firebase/firestore";

export default function ItemDetailConFB() {
	const [services, setServices] = useState(null);

	useEffect(() => {
		const blanqueaRef = doc(db, "/services", "UzGRvTZXZQT3LAHbHG6v");
		getDoc(blanqueaRef).then((docSnapshot) => {
			if (docSnapshot.exists()) {
				console.log("El servicio buscado es:", docSnapshot.data());
				setServices({ id: docSnapshot.id, ...docSnapshot.data() });
			}
		});
	}, []);

	useEffect(() => {
		const servicesCollection = collection(db, "/services");
		getDocs(servicesCollection).then((querySnapshot) => {
			const servicesList = [];
			if (querySnapshot.size === 0) {
				console.log("Sin resultados.");
			}
			setServices(
				querySnapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() }))
			);
		});
	}, []);

	return console.log(services.toString());
}
